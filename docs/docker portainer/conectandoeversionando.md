[
  {
    "transcript": "Opa e aí Bom demais bora falar um pouquinho mais de piner última aula a gente viu um pouquinho de configuração rodou um contêiner ou outro ali uma \ncoisinha outra né mas o portin era uma aplicação muito grande muito complexa tem muitas integrações e hoje a gente \nvai explorar um versionamento de stack tá joia bom se você não me conhece meu nome é Gilberto seja muito bem-vindo \naqui ao canal e bora pro vídeo Então bora pro código aqui eu tô com portin rodando numa VM local tá joia Mas você \npoderia utilizar um VPS aí de alguma empresa eu recomendo fortemente a hostinger tá joia já mostrei no vídeo \nanterior ali que eu utilizo a hostinger no meu dia a dia e é uma empresa excelente o suporte deles é muito bom na \núltima renovação já renovei para mais do anos e já tô querendo já pegar mais um VPS mais fazer um projetinho aí é outro \nassunto eu tô construindo também aqui um um home server aqui eu quero integrar no VPS deles lá fazer umas conexões vai ser \nvai ter bastante conteúdo aí pra gente conversar também e se você quiser contratar os serviços da hostinger aí eu tô deixando aqui embaixo o link com um \ncuponzinho de 20% de desconto hein Muito top vale muito a pena você vai economizar bastante seja para VPS para \nhospedagem compartilhada compra de domínios e etc tá joia já mostrei bastante coisa nos vídeos anteriores \nqualquer coisa volta lá que tem bastante recurso do painel da hosting tá joia e voltando aqui eu tô rodando na verdade \numa VM dentro do Virtual Box tá joia construir aqui uma VM com o bunto 24404 \n4 GB de Ram quatro núcleos e ã 16 GB né 15 GB aqui de de disco tá jo é mais do \nque suficiente pro nosso exemplo aqui tá essa VM tá rodando aqui mas eu não vou operar direto nela eu sempre deixo ela \nminimizada aqui e opero pelo CMD pelo terminal pelo Power Shell ou que você tiver utilizando aí tá joia via SSH né \njá conectei nela aqui a gente tá vendo que tem e tem em os 22% do disco e tudo \nmais aqui se eu fizer um h top a gente consegue ver que a utilização dela tá muito baixa porque não tem nada rodando \nné ah que que eu tenho rodando nela aqui na verdade somente o docker com o porer tá \nbem o único contêiner aqui que tá rodando é o porer tá ele tá rodando na porta 9000 ou 9443 para \nhttps bom Bora lá então né tô no portainer aqui fazer login nele Opa se eu acertar \na senha também é bom né Beleza Vamos fazer um um exemplo aqui tá \nsó existe uma stack que na verdade é a própria stack que tá rodando o porer Né que stack é essa eu sempre crio aquela \npastinha Barra docker nela na na na raiz né então vamos entrar nela aqui pra gente \nver a gente tem aqui ó o docker compose e um volume né que tem o conteúdo ali do \nporer né então se eu fizer aqui um Cat no docker compose a gente vai ver que é \no serviço do porer que tá ali configurado né Restart dele o volume que foi mapeado para armazenar os arquivos \ndo porer né as portas a rede as labels aqui tão comentadas na verdade né com \nessa tralha aqui e é porque eu peguei o exemplo lá do do do do meu gist né só \ncopiei e colei aqui configurei o log dele para fazer rotação de no máximo três arquivos com 10 MB cada um isso \naqui é importante porque ao longo do tempo você vai ver que o seu consumo de disco vai aumentando muito e na verdade \né tudo log de contêiner tá joia e o docker vai mantendo ali o log dos contêiners ali das aplicações que você \ntá rodando né então a gente consegue configurar fazer uma rotação aqui de no máximo três arquivos e eu coloco aqui no \nmáximo 30 m Se eu precisar de log se for algo muito importante para mim na aplicação o que sempre é importante né \nAh mas eu quiser um histórico maior e tudo mais aí o ideal é você configurar uma ferramenta de log né seja um elastic \nsearch com kibana ou até mesmo um sec né ah beleza então a nossa stack tá \nconfigurada aqui vamos criar uma nova stack né só pra gente explorar esses recursos ã vou chamar aqui de \nAh hello world beleza vou criar aqui vai ser vai ter um \nServices no arquivo esse aqui é um compos né pessoal então vou chamar de App posso dar o nome que eu quiser \nimage do P hello world a de onde que você tirou esse hello world isso aqui no \ncaso é uma imagem né que vai rodar um projetinho hello world né quando você roda ali o docker a primeira vez você \nconstrói a gente sempre testa com essa imagem com esse Hell World Seria a mesma coisa dar um docker Run ali e tudo mais \nsó que eu quero ver como que o hiner armazena esses arquivos Quero mostrar para vocês né Tá vendo aqui que na na \ncriação da stack a gente tem a opção de web editor upload repository e Custom \ntemplate esses caras aqui na verdade o Web editor seria o que eu tô construind aqui agora né criando aqui um docker \ncompose e tudo mais eu poderia fazer um upload de um docker compose poderia linkar no repositório do \ngithub que é o que a gente vai fazer hoje aqui tá joia ou utilizar um template que já existe ou o meu próprio \ntemplate eu poderia criar um template aqui que na verdade o template ele é um docker compos tá joia Ah mas eu quero \nmostrar para vocês primeiro o Web editor aqui como que funciona não vou construir nenhuma variável de ambiente nada do \ntipo só vou dar um Deploy aqui e beleza né Vamos aguardar ela tá fazendo o pull \nda das layers lá das camadas né pronto criou aqui o hello world provavelmente \nesse contêiner nem tá rodando né ele Ah já já fechou por qu ele só exibe um texto hello world e acabou não faz mais \nnada né se a gente olhar aqui o o log desse contêiner né cadê os log aqui dele \njustamente isso Ó lá Hello from docker né dá um zoom aqui para ajudar Hello from docker blá blá blá dá todo uma \nexplicação Então esse aqui é o log do contêiner né É só para falar que tá rodando é só isso ã Mas se a gente olhar \nlá na máquina né a gente tem aqui a pastinha do porer Então vamos entrar aqui no porer \npiner lá dentro a gente tem uma pastinha data CD data e a gente tem uma pastinha aqui ó \ncomose né que é onde o portainer armazena as stacks tá já aqueles arquivos ali que a gente acabou de criar \nné ah eu vou invocar aqui o su do Sul o super usuário na verdade né porque \naquela passa é protegida então CD compose e temho um esse um é o qu é o ID \nda minha stack não se eu vier aqui na na stack aqui ó do Hell World que eu criei a gente olhar aqui em cima ó na barrinha \nlá o ID dela é um Então se a gente consegue ver né A aqui ó CD1 ó lá existe \num docker compose emo lá dentro da pastinha se a gente fizer um Cat aqui no docker compose e emo a gente vai ver que \ntem exatamente ó lá Services app image hello world acabou aqui que ficou junto \nné porque não deu quebra de linha vamos editar aqui ela então só para vocês verem aqui vou dar uma quebra de linha \naqui depois da terceira linha né Ah vou dar uma update da stack \nupdate Beleza já foi E aí se eu pedir aqui nova o cat desse cara Pronto agora tá \ncertinho né Services app image Hell que que ISO significa né construir a minha \nstack já configurei todo o meu ambiente blá blá blá imagina que aconteceu um incidente sua VM foi destruída ou seu \nptain você foi fazer o update dele foi fazer uma atualização aqui quebrou tudo você foi trocar da versão community PR \nenterprise para Business alguma coisa assim quebrou tudo perdeu porer e aí \nimagina que essa passa se perdeu você acabou de perder todo o seu ambiente tá isso é um problema absurdo já passei por \nisso aprendi muito com ess os me com os meus erros né ah e aí o que que existe \nné no portainer aqui ele tem um recurso deixa eu achar aqui que seria o o \nrecurso de backup tá deixa eu achar aqui ó se a gente vier no settings aqui General onde que tá isso Gilberto você \nvai você tem que entrar no seu no seu environment Ali vai lá no settings General e vai lá lá para baixo que vai \nexistir aqui um backup painer tá você pode baixar um arquivo de backup ou se \nvocê tiver numa versão Business portainer você consegue esed aqui né \nagendar uma tarefa diária para ele fazer backup num S3 né num Amazon S3 aws S3 né \nou algum serviço de Storage que você tenha tá bem e aí você consegue configurar aqui os access Key Secret \nregion e tudo mais né nosso caso eu teria que basicamente toda vez que eu faço uma configuração aqui no painer eu \nteria que ir lá e fazer um download do do backup tá vendo ele até reclama que o arquivo não é seguro porque ele é um \ntar.gz e tudo mais né ah mas esse arquivo basicamente ele vai ter toda a configuração do seu ambiente e aí aquela \ncoisa se você fez uma alteração importante aqui quebrou o seu ambiente você poderia simplesmente rodar o portainer naquela versão que é \ncompatível e restaurar o backup como que eu restauro o backup Gilberto quando você \nsobe um painer do zero novo Limpo sem dado nenhum ele te dá a opção lá embaixo \nrestaurar a partir de um arquivo né então você consegue na tela de login ali mesmo onde ele manda se criar o usuário \na primeira vez tá Ah assim não é o melhor dos mundos tá joia porque você pode ter problemas \nnessa importação aí eh e o ideal seria a gente já ter um versionamento até porque \no seguinte não é só de backup que a gente tá falando né imagina que você tem um serviço rodando ou melhor vários \nserviços rodando numa máquina e você tem várias pessoas que acessam aquela máquina né Você tem dois três dvos ali \nque estão usando aquele ambiente se você tem as stacks aqui dentro do do painer \nvocê consegue controlar o acesso né de quem pode de quem não pode geralmente o que acontece é que a gente dá o acesso para todo mundo ali na naquela stack \nnaquela pasta né e ah todo mundo pode modificar o problema é que você não tem \num versionamento né você não sabe H aqui você sabe quem que fez a última alteração né no updated aqui mas você \nnão consegue Voltar versão você não consegue gerenciar ali duas três versões do mesmo da mesma aplicação né Isso é um \nponto problemático então o que que a gente vai fazer vamos versionar esse cara né ã Vamos criar aqui no github né \nse você não tá acostumado sugiro que se acostume ao github né esse aqui é o meu github vamos criar aqui um \nrepositório e vai ser um repositório privado por favor tá Ahã porque você não quer expor as \nconfigurações do seu ambiente ali para um repositório né pro pro mundo de digamos assim vamos dar um nome aqui \nã docker local beleza não preciso botar descrição \nnão preciso preencher mais nada aqui vou deixar dar um ridm aqui só para ter algum arquivo lá Tá bem vou criar Esse \nrepositório beleza Tá criado e eu vou fazer o seguinte eu vou apertar ponto aqui no meu teclado ou você pode ali no \ncode abrir no vs code online né ele vai eh a vai abrir um vs code web pra gente \naqui é excelente que que a gente vai fazer então vamos criar uma pastinha \naqui vou chamar de app apps melhor né E \nlá dentro dessa pastinha eu vou criar um uma outra pasta que eu vou chamar de \nhello world dentro dessa pasta eu vou criar um docker traço compose \npemo beleza Gilberto Por que que você fez uma dentro de outra pasta tudo mais porque \nimagina que eu tenho um sistema tô rodando um contêiner que tem vários arquivos de configuração não só um docker compos eu posso pegar todos esses \narquivos de configuração e versionar eles também né lembra lá do Traffic né que tem aquele Traffic ptel Traffic \ndynamic ptel né então você consegue colocar todos aqueles arquivos lá dentro e por que que eu criei uma pastinha apps \nporque eu poderia ter ã uma pastinha aqui de observabilidade sei lá eu posso ter log Eu Posso rodar uma aplicação de \nlog que concentra o log de todos os meus outros softwares né todos os meus outros contêiners naquele log e e é o que eu \nfaço na minha vida real aqui ah eu posso ter métricas Eu Posso rodar um Prometeus \nEu Posso rodar um grafana e tudo mais né Ah E aí por isso que eu chamei de apps são as aplicações finais que eu tô \nrodando né ã E aí eu poderia ter aqui uma pastinha chamada Opa vamos criar na raiz aqui uma por exemplo \nobservability que é observabilidade né é um conceito de monitoramento e tudo mais e eu poderia ter aqui uma pastinha por \nexemplo do Prometeus para métricas poderia ter \ndentro de observabilidade uma pastinha para o kibana por exemplo ou o LK o \nelastic search né vou chamar de kibana aqui mesmo e E aí dentro teria o o \ndocker composite de cada uma eu teria ali os arquivos de configuração de cada uma né fora o docker composit por aí vai \nné Mas beleza então eu tô aqui dentro do docker compos do Hello ro que que eu vou fazer eu vou copiar aquele conteúdo lá \nporque eu não sou bobo né Já tá pronto aqui já vou copiar e vou trazer ele para cá vou salvar esse \narquivo beleza Tá salvo e vamos comitar né tô comando direto na Master aqui tá \nbem na Main no caso né não é Branch Master é Branch M Mas você pode comitar sei lá criar uma bran para cada recurso \nali e tudo mais né aí vai do seu seu gosto pelo repositório tá joia vou fazer um comit aqui \nentão app \nhello World comitar e puxar aqui beleza já tá comitar já tá lá no repositório já O \narquivo já tá atualizado lá no github que que eu vou fazer agora então eu vou \ndeletar essa stack tá joia vou remover ela aqui porque eu não quero ela mais \nbeleza vamos criar uma nova vou chamar ela de hello world só que agora eu vou \nconectar ela via repositório hum aí começou a ficar interessante hein todas as minhas stacks ficam fora os arquivos \nde configur fica lá no github e o meu painer só roda esses caras muito mais interessante muito mais amigável né bom \npreciso colocar o RL do meu repositório qual que é o RL do meu repositório é \nessa aqui ó github na verdade é github.com né Eu tô no github Dev aqui deixa eu duplicar esse cara vamos \npara o github.com beleza detalhe Esse repositório é privado Então a gente vai \nter que configurar um negocinho ali tá mas vamos lá Vou colocar aqui a URL do \nrepositório e tá vendo que eu não consigo atualizar aqui porque ele \nprecisa de autenticação né é um repositório privado Óbvio no caso da autenticação do github a gente tem que \nconfigurar as credenciais né ele tá pedindo aqui um username e um personal access token username é o seu usuário do \ngithub tá no meu caso aqui é Gilber Toledo já o personal excess token \né um token que a gente vai gerar lá no github Nossa Gilberto Como que eu faço com é muito fácil tá lá no topo do seu \ngithub Você vai clicar no na sua fotinha lá vai vir em settings vai rolar um pouquinho para \nbaixo aí e vai ter opção developer settings né Vamos lá não é github apps \nou Alf Na verdade é um personal excess token e do tipo clássico a gente tem esse fine grained aqui ã mas ele é \npreview Ele tá em Beta ainda nem sei se o portainer é compatível com isso tá no caso a gente vai usar o token clássico \naqui tá E para isso eu já tenho um token que eu utilizo lá no meu VPS né nos meus \nfras e a gente vai criar um novo token aqui vamos criar um novo clássico ele me pede para m autenticar \nnovamente óbvio né tô criando um token que vai dar acesso ao repositório óbvio que ele tem que pedir de novo né ah para \nque que esse token é eu vou colocar aqui docker local tempo de inspiração dele eu posso \ndefinir 30 60 90 dias ou não vai inspirar vou deixar aqui que não vai inspirar o ideal se você tiver no \nambiente corporativo e tudo mais é que você coloque sei lá um ano pelo menos aí né de de inspiração mas vou deixar aqui \nsem inspiração e aí Olha a quantidade de coisa que a gente tem para ã liberar de acesso né esse token na verdade pessoal \nele Dá permissão para alguém de fora acessar a minha conta nesse repositório específico aqui e fazer modificações no \nrepositório né ah eu posso aqui falar que ele vai eh Criar e ler pacotes \ndeletar blá blá blá um monte de coisa aqui e aí a permissão que a gente vai selecionar aqui no caso é de repo né \nporque a gente quer que ele tenha acesso a repositórios privados aqui tá bem marcar o repo aqui e generate \ntoken Pronto agora você tem que guardar esse código aqui com a sua vida tá bem \npor em momento algum ele vai mostrar esse código novamente se você perder esse token que ele gerou aqui você vai \nter que gerar um novo token e sair atualizando em todos os lugares que você criou ele e aí um lugar que eu recomendo \nvocê armazenar né é copia esse token aqui e salva ele no próprio repositório \naqui no seu ridm né docker local Eu costumo colocar aqui ó são seis aspas né isso Três e três \naqui a gente dá um espacinho coloca um comentário aqui Git \nHub personal Access token Beleza a gente salva ele aqui tá \nque que eu faço com esse token agora né Deixa eu salvar aqui deixa eu cometar ele primeiro né antes que a gente perca \nEd github \nPat Beleza comado eu vou colar esse access token \naqui tá bem então só colar já resolve o problema já E aí colou o token beleza tá \npronto aqui vamos voltar pro repositório então né o repositório É esse aqui docker local que a gente configurou \nrepository reference na verdade aqui é qual a Branch que tá o arquivo né no \ncaso ele tá exatamente nesse caminho aqui refs bar Heads bar Main né então refs bar Heads bar m tá na Main né \nporque eu comite aqui direto na Main esse arquivo do docker compos né e o \ncompose pef né ele tá pedindo onde que tá o arquivo de compose Na verdade ele não tá na né ele tá dentro lá do Apps \nhello world docker compos então apps bar Hello traço \nWorld traço bar docker compose ele tá lá dentro ã beleza que ele pergunta se eu \nquero ficar fazendo atualização automática e blá BL blá e tudo mais vamos fazer um Deploy aqui na stack \nvamos ver se ele consegue conseguiu beleza vamos lá no contêiner dele agora para ver o log do contêiner né Já fechou \naqui não tem problema mas olha o log do container tá aqui eu consigo exibir o time stamp né para mostrar que a hora \nfoi de agora não ah boa foi ã 2 12 17 e 11 beleza bateu é 17 Men 3 né aí \nvai dar 14 né aqui tá em UTC tá bem bom Beleza então tá configurada aqui a nossa \nstack não tem muito mais o que fazer né ah vamos configurar mais uma só pra gente ter uma noção mais ou menos o que \nque tem de possibilidade né Ah vou chamar aqui dentro de apps vou criar uma outra pasta \napach Opa escrever certo é bom né apach Vamos criar agora aqui um docker \ncompose pemo beleza eu já tô com a imagem do apach \naqui a imagem não né tô com os dados da imagem aqui o httpd é o Apache Ok você \npoderia rodar o indin poderia rodar qualquer coisa ali tá mas vou rodar só um apache aqui só pra gente ter uma uma \nnoção do que que vai rodar tá vou copiar o comando e vamos montar o compos lá que \nvai ser mais fácil né então Services \nServices app é Image é cadê a image aqui \nhttpd na verdade com a versão né 2.4 Vamos botar ali o \n2.4 que mais que ele pede aqui ele bota um menos D um ali Ah tem que montar a \nporta né obviamente então ports aqui vamos colocar que a porta vai ser a 80 \n90 e lá dentro ap sempre roda na porta 80 né e ele tem aqui também um vume aqui \ntá do HT dox tá vamos configurar um vume aqui \ntambém só que aí vai ficar na pasta docker \nbeleza isso aí dois pontos e a pastinha do apacho lá dentro né e é isso isso \naqui é deveria ser o suficiente para rodar o apacho tá bem tudo certo vamos \nadicionar essa stack lá agora né vamos vir aqui em stack adicionar uma stack ap ah do \nrepositório qual repositório o próprio aqui depois eu troco ali pro ponto \ncom beleza vamos habilitar aqui a autenticação Gilberto Toledo e aquele \ntoken então toda hora a gente vai precisar desse token aqui tá joia um detalhe é que na versão Business do \npainer e você não precisa ficar informando toda hora né existe um cadastro de credenciais que você \nconsegue adicionar lá conexão para aquele repositório E aí no caso aqui vira uma caixinha de seleção Então eu só \nfalo ó eu quero me conectar usando uma credencial já pré cadastrada Ah isso é maravilhoso Então essa versão aqui do \nporer não tem essa funcionalidade né então é o ref Heads e ele tá dentro de \napp bar bar docker compose beleza vamos \nfazer um Deploy aqui opa deu um erro não encontrou o Ah eu não comite né Eu só \ncriei o arquivo aqui e não comi bom comar né App \nPronto agora tá comit vamos voltar lá que agora tem que funcionar Vamos fazer um Deploy aqui novamente beleza rodou \naqui né construiu vamos ver se o contêiner tá saudável tá rodando tá rodando vamos ver aqui os logs do \ncontêiner tá não consegui definir o nome do Servidor blá blá blá tudo bem aqui mas lembra que a gente configurou ele \npara rodar na 8090 né a porta ali aqui ó 8090 então se \neu acessar esse IP aqui na 8090 2.8 \n90 beleza caiu no index off aqui esse index off é a resposta padrão do apach \nné agora o seguinte o apach ele tem várias versões né ele tem aqui várias \ntags a gente tá rodando aquela 2.4 né tá lá no repositório mas tá vendo que essa \nversão ela tá meio hardcoded aqui né no no repositório e eu não gostaria de \ndeixar L hard coder não eu gostaria de poder rodar várias versões com o mesmo arquivo imagina se quisesse rodar uma \nape Sei lá o 2.0 2.1 2.2 Eu precisaria ter vários arquivos desse não faz muito \nsentido né que que a gente vai fazer aqui vamos trocar essa versão por um dólar app \nunderline version que que esse App version vai fazer ele vai virar uma \nvariável Ok de ambiente do meu dessa dessa stack tá salvar aqui ah \nadjust app AP comitar Beleza agora vou pegar esse App \nversion vou lá no porer lá na minha stack do AP e vou fazer o seguinte tá vendo aqui \nque existe um environment variables a gente vai adicionar essa variável aqui ó app version \n2.4 né é a versão acho que é uma das últimas que estava aqui né 2463 é 2463 \nPosso rodar 2.4 vou dar um save settings aqui e um p e redy seja ele vai pegar aquela imagem \nsó que ele vai substituir e vai trocar o 2.4 lá no app version né então se a \ngente acessar de novo tá aqui 192 6811 E se a gente quiser falar assim não \nquero rodar agora a 2. 4.63 eu quero forçar aquele 63 ali vou \ndar um save aqui pull e redeploy dar um update que que vai acontecer agora vai \ndemorar um pouquinho mais porque a 2463 não existe a imagem né E se a gente olhar aqui nos \nimages olha aqui ó a gente tem uma imagem A 2.4 a 2.463 Quero rodar outra Gilberto não \nquero saber de 2.4 eu quero pegar uma sei lá Alpine vou rodar essa Alpine aqui \nbeleza só vir na stack vou trocar aqui do Apache trocar aqui a variável aqui al \nPine dá um save pull e redeploy update beleza foi se eu acessar aqui aqui mesma \nmesma resposta e se a gente olhar agora nas imagens aqui agora ele tem ó a 2.4 \n2.463 Na verdade são duas tags pra mesma imagem mas existe uma terceira imagem aqui que é o Alpine Gilberto eu quero \nrodar dois que que eu faço agora eu quero rodar tanto a 2463 né a do ou 2.4 \nquanto a opine Quero rodar duas beleza muito simples você pode criar duas stacks aqui do Apache Então vamos vir \nnessa stack aqui ah consigo clonar ela não né Tudo bem não tem problema não \nvamos criar uma segunda stack aqui então vamos fazer um apach \n2 do repositório vamos adicionar aqui vamos pegar lá o \ntoken aqui vamos botar o token aqui o repositório a URL é sempre aquela mesma \nali é sempre o ref Heads Main vou usar o apps barra AP mesma o mesmo compose aqui \nsó que aí a gente vai usar outras variáveis aqui vamos colocar um app version aqui e vamos rodar 2.4 nele tá \njoia vai dar um erro mas a gente já vai resolver esse erro também ó vou dar um Deploy nack olha ele deu um erro aqui na \nverdade é por a porta 8090 já tá em uso \nque que a gente faz para resolver vamos vir aqui ó num ap vamos fazer 8090 ser \numa variável também PP underline port vamos salvar comitar aqui add é \napp port vamos \ncomitar beleza comit vamos vir agora aqui no ptin Vamos criar mais uma variável Então vai ser \napp under Opa app underline port E aí a gente vai \nrodar esse agora na 80 91 tá vamos dar um Deploy \nbeleza só que aquela stack anterior lá o apach um ela não tá passando ainda a \nporta né lembra ela tá usando Na verdade uma versão em cash ali do docker compos Vamos criar ela aqui ó vamos criar aqui \num app Eline port na 8090 né que é a correta vamos salvar Vamos fazer um p \nredeploy atualizar aqui beleza se a gente vier na lista de \ncontêiners agora a gente tem o ape ape app1 e a parte 2 app1 sendo que um tá \nrodando na 8090 e outro na 8091 se a gente acessar aqui ó 8090 tá aqui e se \neu acessar agora 8091 tá aqui também são dois contêiners \nrodando aplicações separadas aplicações web ali separadas mas usando o mesmo \ncompose e a gente usou o poder das variáveis de ambiente aqui do do painer \nné aquela environment variables se a gente olhar aqui ó a gente pode ainda \ncarregar um arquivo P env que que seria esse arquivo pon env eu posso vir aqui no meu repositório e criar um arquinho aqui um \nponto env esse ponto env eu posso botar as minhas variáveis né que é a forma que o \nque seria nesse formato aqui né Advanced mode ali então eu poderia colocar as \nminhas variáveis assim nesse arquivo pon env eu poderia ter o ponto env 1v 2v pto env para cada \numa dessas desses grupos de variáveis eu poderia aplicar um ponto env diferente aqui né Tem até uma observação aqui \nfalando n que quando você tá deplo via repositório o stack p env o arquivo né \nele tem que tá na mesma na mesma pastinha ali do gitp tá joia E aí se a \ngente voltar aqui na nas imagens né do do do docker a gente vai ver que agora a 2.4 tá em uso né e a 2443 aqui e a Aline \ntá em uso se eu parar por exemplo o Apache dois aqui deu um Stop na na stack \nné Vamos parar ela aqui beleza parou a gente volta nas imagens a gente vai ver que agora a 2.4 não tá em uso mais né e \na Alpine tá em uso porque ficou só uma stack ali rodando né bom Beleza então \nPessoal espero que isso aqui tenha trago bastante conhecimento para vocês das possibilidades ah dos problemas de não \nutilizar versionamento né porque agora a gente tem um repositório todo configurado aqui com permissionamento no \nrepositório bom Então imagina que você tem um time de devops né esse time de devops ele pode mexer só na parte do \nrepositório configura lá no portainer e o usuário só no caso Dev né define ali \nqual tag e tudo mais aí você pode integrar isso via pipeline via github Actions aqui também a gente \nconsegue integrar ali aí o github Actions chama o Deploy do painer para falar assim olha vai rodar stack x com \numa variável ABC aqui alguma coisa assim passa app version ali 1 23 app version \nv1 V2 E por aí vai né são infinitas possibilidades tá Pessoal espero ter \nagregado bastante conhecimento aí para vocês Muito obrigado não esquece de utilizar o cupom da Hoster aqui embaixo \ntá joia até a próxima e tchau \n"
  }
]