| create_statement                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| CREATE TABLE public.agendamentos (filial uuid NOT NULL, turno text NOT NULL, agendamento_code text NOT NULL, agendamento_id uuid NOT NULL DEFAULT uuid_generate_v4(), servico uuid, colaborador uuid, data_agendamento date NOT NULL, hora_agendamento time without time zone NOT NULL, data_criacao timestamp with time zone DEFAULT now(), data_atualizacao timestamp with time zone DEFAULT now(), disponivel boolean NOT NULL DEFAULT true, cliente uuid);                                                                                   |
| CREATE TABLE public.agente_ia (system_message text, persona text, instrucoes_especiais text, agente_id uuid NOT NULL DEFAULT uuid_generate_v4(), data_atualizacao timestamp with time zone DEFAULT now(), data_criacao timestamp with time zone DEFAULT now(), filial_id uuid NOT NULL, objetivo text, frases_apresentacao ARRAY, frases_despedida ARRAY);                                                                                                                                                                                       |
| CREATE TABLE public.archived_usuarios_valmarchiori (cliente_id uuid NOT NULL DEFAULT gen_random_uuid(), is_empresario boolean DEFAULT false, updated_at timestamp with time zone DEFAULT now(), chatwoot_id integer, referencia text, fonte text, status text DEFAULT 'novo'::text, atividades text, interacao text, foto_perfil_url text, estado text, cidade text, objetivo text, chat_id text, email text, nome_completo text NOT NULL, created_at timestamp with time zone DEFAULT now(), participou_primeiro_jantar boolean DEFAULT false); |
| CREATE TABLE public.assinaturas (valor_contratado numeric NOT NULL, data_fim date, status text NOT NULL DEFAULT 'ativo'::text, data_inicio date NOT NULL DEFAULT CURRENT_DATE, forma_pagamento text, plano_id uuid NOT NULL, data_atualizacao timestamp with time zone DEFAULT now(), data_criacao timestamp with time zone DEFAULT now(), dia_vencimento integer, empresa_id uuid NOT NULL, assinatura_id uuid NOT NULL DEFAULT uuid_generate_v4());                                                                                            |
| CREATE TABLE public.clientes (nome_completo text NOT NULL, observacoes text, cliente_uuid uuid NOT NULL DEFAULT uuid_generate_v4(), data_nascimento date, data_criacao timestamp with time zone DEFAULT now(), data_atualizacao timestamp with time zone DEFAULT now(), endereco jsonb, cliente_id text NOT NULL, email text);                                                                                                                                                                                                                   |
| CREATE TABLE public.colaboradores (status text DEFAULT 'ativo'::text, nome_colaborador character varying(255), colaborador_profissao character varying(255), colaborador_id uuid NOT NULL DEFAULT uuid_generate_v4(), chatwoot_assignee_id integer, nivel_permissao text DEFAULT 'basico'::text, filial_id uuid NOT NULL, usuario_id uuid NOT NULL, cargo text, especialidade text, data_atualizacao timestamp with time zone DEFAULT now(), data_criacao timestamp with time zone DEFAULT now(), is_administrador boolean DEFAULT false);       |
| CREATE TABLE public.colaboradores_servicos (data_criacao timestamp with time zone DEFAULT now(), id uuid NOT NULL DEFAULT uuid_generate_v4(), colaborador_id uuid NOT NULL, servico_id uuid NOT NULL);                                                                                                                                                                                                                                                                                                                                           |
| CREATE TABLE public.empresa_admin (filial_id uuid, administrador_id uuid NOT NULL DEFAULT uuid_generate_v4(), usuario_id uuid NOT NULL, empresa_id uuid NOT NULL, is_principal boolean DEFAULT false, data_criacao timestamp with time zone DEFAULT now(), data_atualizacao timestamp with time zone DEFAULT now());                                                                                                                                                                                                                             |
| CREATE TABLE public.empresas (data_criacao timestamp with time zone DEFAULT now(), status text DEFAULT 'ativo'::text, cnpj text, site_empresa text, instagram_empresa text, nome_empresa text NOT NULL, data_atualizacao timestamp with time zone DEFAULT now(), empresa_id uuid NOT NULL DEFAULT gen_random_uuid());                                                                                                                                                                                                                            |
| CREATE TABLE public.filiais (empresa_id uuid NOT NULL, filial_uuid uuid NOT NULL DEFAULT uuid_generate_v4(), email_contato text, filial_id integer NOT NULL, nome_filial text NOT NULL, endereco_completo text, telefone text, data_atualizacao timestamp with time zone DEFAULT now(), data_criacao timestamp with time zone DEFAULT now());                                                                                                                                                                                                    |
| CREATE TABLE public.filiais_clientes (cliente_id uuid NOT NULL, filial_id uuid NOT NULL, id uuid NOT NULL DEFAULT uuid_generate_v4(), data_criacao timestamp with time zone DEFAULT now());                                                                                                                                                                                                                                                                                                                                                      |
| CREATE TABLE public.filiais_servicos (id uuid NOT NULL DEFAULT uuid_generate_v4(), data_criacao timestamp with time zone DEFAULT now(), filial_uuid uuid NOT NULL, servico_id uuid NOT NULL, ativo boolean DEFAULT true, data_atualizacao timestamp with time zone DEFAULT now());                                                                                                                                                                                                                                                               |
| CREATE TABLE public.filial_admin (data_atualizacao timestamp with time zone DEFAULT now(), filial_admin_id uuid NOT NULL DEFAULT uuid_generate_v4(), usuario_id uuid NOT NULL, empresa_id uuid NOT NULL, filiais_ids ARRAY NOT NULL, is_principal boolean DEFAULT false, data_criacao timestamp with time zone DEFAULT now());                                                                                                                                                                                                                   |
| CREATE TABLE public.historico_assinaturas (data_registro timestamp with time zone DEFAULT now(), data_fim date NOT NULL, data_inicio date NOT NULL, valor numeric NOT NULL, plano_id uuid NOT NULL, empresa_id uuid NOT NULL, assinatura_id uuid NOT NULL, historico_id uuid NOT NULL DEFAULT uuid_generate_v4(), motivo_mudanca text);                                                                                                                                                                                                          |
| CREATE TABLE public.planos (valor_mensal numeric, plano_id uuid NOT NULL DEFAULT uuid_generate_v4(), data_atualizacao timestamp with time zone DEFAULT now(), data_criacao timestamp with time zone DEFAULT now(), recursos_ativos jsonb DEFAULT '{}'::jsonb, max_servicos integer DEFAULT 20, nome_plano text NOT NULL, descricao text, max_colaboradores integer DEFAULT 5, max_filiais integer DEFAULT 1);                                                                                                                                    |
| CREATE TABLE public.servicos (descricao text, disponivel boolean NOT NULL, data_atualizacao timestamp with time zone DEFAULT now(), data_criacao timestamp with time zone DEFAULT now(), necessita_preparo boolean DEFAULT false, disponivel_delivery boolean DEFAULT false, valor numeric, duracao_minutos integer DEFAULT 60, filial_id uuid NOT NULL, servico_id uuid NOT NULL DEFAULT uuid_generate_v4(), servico_code text NOT NULL, nome_servico text NOT NULL, tipo_do_servico text, instrucoes_preparo text);                            |